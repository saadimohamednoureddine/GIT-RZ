<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöóüí® Syst√®me de Location de SUPERCARS</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Additional inline styles for quick enhancements */
        .welcome-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .welcome-text h2 {
            margin: 0;
            font-size: 1.8em;
        }
        
        .welcome-text p {
            margin: 5px 0 0 0;
            opacity: 0.9;
        }
        
        .featured-badge {
            background: #ff4757;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }
        
        .car-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }
        
        .car-image {
            height: 200px;
            overflow: hidden;
            border-radius: 10px 10px 0 0;
        }
        
        .car-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        
        .car-card:hover .car-image img {
            transform: scale(1.05);
        }
        
        .stats-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .stats-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }
        
        .stats-card i {
            font-size: 2.5em;
            margin-bottom: 15px;
            color: #667eea;
        }
        
        .hero-section {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), url('chiron.png');
            background-size: cover;
            background-position: center;
            color: white;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        
        .hero-section h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .hero-section p {
            font-size: 1.2em;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }
        
        .quick-action-btn {
            background: white;
            border: 2px solid #667eea;
            color: #667eea;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .quick-action-btn:hover {
            background: #667eea;
            color: white;
            transform: scale(1.05);
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 50px;
            background: #2c3e50;
            color: white;
            border-radius: 10px;
        }
        
        .footer p {
            margin: 5px 0;
            opacity: 0.8;
        }
        
        .social-icons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }
        
        .social-icons a {
            color: white;
            font-size: 1.5em;
            transition: all 0.3s ease;
        }
        
        .social-icons a:hover {
            color: #667eea;
            transform: translateY(-3px);
        }
        
        @media (max-width: 768px) {
            .hero-section h1 {
                font-size: 2em;
            }
            
            .welcome-banner {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav id="navbar" class="hidden">
        <div class="nav-container">
            <div class="nav-brand">
                <i class="fas fa-car"></i>
                <span>Supercar Rental</span>
            </div>
            <div class="nav-menu">
                <a href="#" onclick="showPage('dashboard')" id="nav-dashboard">
                    <i class="fas fa-tachometer-alt"></i> Tableau de Bord
                </a>
                <a href="#" onclick="showPage('catalog')" id="nav-catalog">
                    <i class="fas fa-car-side"></i> Catalogue
                </a>
                <a href="#" onclick="showPage('my-rentals')" id="nav-rentals">
                    <i class="fas fa-clipboard-list"></i> Mes Locations
                </a>
                <a href="#" onclick="showPage('profile')" id="nav-profile">
                    <i class="fas fa-user"></i> Mon Profil
                </a>
                <a href="#" onclick="openChatbot()" id="nav-chatbot">
                    <i class="fas fa-robot"></i> Assistant IA
                </a>
                
                <!-- Admin Menu -->
                <div class="admin-menu hidden" id="admin-menu">
                    <a href="#" onclick="showPage('admin-cars')">
                        <i class="fas fa-car"></i> Gestion SUPERCARS
                    </a>
                    <a href="#" onclick="showPage('admin-clients')">
                        <i class="fas fa-users"></i> Gestion Clients
                    </a>
                    <a href="#" onclick="showPage('admin-rentals')">
                        <i class="fas fa-clipboard-check"></i> Gestion Locations
                    </a>
                    <a href="#" onclick="showPage('admin-stats')">
                        <i class="fas fa-chart-bar"></i> Statistiques
                    </a>
                </div>
                
                <a href="#" onclick="logout()" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i> D√©connexion
                </a>
            </div>
            <div class="user-info">
                <span id="current-user"></span>
                <span id="user-role" class="role-badge"></span>
            </div>
        </div>
    </nav>

    <!-- Login Page -->
    <div id="login-page" class="page active">
        <div class="login-container">
            <div class="login-header">
                <div class="hero-section" style="background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), url('chiron.png'); margin: 0 auto 30px; max-width: 600px;">
                    <i class="fas fa-car fa-4x" style="color: #ff4757;"></i>
                    <h1>Location de SUPERCARS</h1>
                    <p>Exp√©rience de conduite ultime avec notre collection exclusive</p>
                </div>
            </div>
            
            <div class="login-form">
                <h2><i class="fas fa-sign-in-alt"></i> Connexion</h2>
                
                <div class="input-group">
                    <i class="fas fa-user"></i>
                    <input type="text" id="login-username" placeholder="Nom d'utilisateur" value="admin">
                </div>
                
                <div class="input-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="login-password" placeholder="Mot de passe" value="admin123">
                </div>
                
                <button class="btn btn-primary" onclick="login()" style="width: 100%; padding: 15px;">
                    <i class="fas fa-sign-in-alt"></i> Se connecter
                </button>
                
                <div class="demo-credentials" style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-top: 20px; text-align: center;">
                    <p style="margin: 0; font-size: 0.9em; color: #666;">
                        <i class="fas fa-info-circle"></i> Identifiants de d√©mo :<br>
                        Admin : admin / admin123<br>
                        Client : client / client123
                    </p>
                </div>
                
                <div class="login-footer">
                    <p>Pas de compte? <a href="#" onclick="showRegister()">S'inscrire</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Registration Page -->
    <div id="register-page" class="page">
        <div class="register-container">
            <div class="register-header">
                <div class="hero-section" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    <i class="fas fa-user-plus fa-3x"></i>
                    <h1>Rejoignez la communaut√©</h1>
                    <p>Acc√©dez √† notre collection exclusive de SUPERCARS</p>
                </div>
            </div>
            
            <div class="register-form">
                <h2><i class="fas fa-user-plus"></i> Cr√©er un compte</h2>
                
                <div class="input-group">
                    <i class="fas fa-user"></i>
                    <input type="text" id="reg-username" placeholder="Nom d'utilisateur">
                </div>
                
                <div class="input-group">
                    <i class="fas fa-envelope"></i>
                    <input type="email" id="reg-email" placeholder="Email">
                </div>
                
                <div class="input-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="reg-password" placeholder="Mot de passe">
                </div>
                
                <div class="input-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="reg-confirm-password" placeholder="Confirmer le mot de passe">
                </div>
                
                <div class="info-box" style="background: #e3f2fd; border-left: 4px solid #2196f3;">
                    <i class="fas fa-info-circle"></i>
                    <p>Les informations Nom et Pr√©nom seront compl√©t√©es apr√®s l'inscription dans votre profil client.</p>
                </div>
                
                <button class="btn btn-success" onclick="register()" style="width: 100%; padding: 15px;">
                    <i class="fas fa-user-plus"></i> S'inscrire maintenant
                </button>
                
                <div class="register-footer">
                    <p>D√©j√† un compte? <a href="#" onclick="showLogin()">Se connecter</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboard" class="page">
        <div class="welcome-banner">
            <div class="welcome-text">
                <h2 id="welcome-message">Bienvenue sur votre tableau de bord</h2>
                <p>G√©rez vos locations et d√©couvrez notre collection exclusive</p>
            </div>
            <div class="featured-badge">
                <i class="fas fa-crown"></i> COLLECTION EXCLUSIVE
            </div>
        </div>
        
        <div class="quick-actions">
            <button class="quick-action-btn" onclick="showPage('catalog')">
                <i class="fas fa-car"></i> Explorer le catalogue
            </button>
            <button class="quick-action-btn" onclick="showPage('my-rentals')">
                <i class="fas fa-clipboard-list"></i> Mes locations
            </button>
            <button class="quick-action-btn" onclick="openChatbot()">
                <i class="fas fa-robot"></i> Assistant IA
            </button>
            <button class="quick-action-btn" onclick="showPage('profile')">
                <i class="fas fa-user-cog"></i> Mon profil
            </button>
        </div>
        
        <div class="stats-grid" id="user-stats" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 30px 0;">
            <!-- User stats will be loaded here -->
            <div class="stats-card">
                <i class="fas fa-car"></i>
                <h3 id="user-total-rentals">0</h3>
                <p>Locations totales</p>
            </div>
            <div class="stats-card">
                <i class="fas fa-clock"></i>
                <h3 id="user-active-rentals">0</h3>
                <p>Locations actives</p>
            </div>
            <div class="stats-card">
                <i class="fas fa-money-bill-wave"></i>
                <h3 id="user-total-spent">0 TND</h3>
                <p>Total d√©pens√©</p>
            </div>
            <div class="stats-card">
                <i class="fas fa-star"></i>
                <h3 id="user-member-since">-</h3>
                <p>Membre depuis</p>
            </div>
        </div>
        
        <div class="section">
            <h2><i class="fas fa-star"></i> SUPERCARS Recommand√©es</h2>
            <div class="cars-grid" id="featured-cars">
                <!-- Bugatti Chiron Card -->
                <div class="car-card">
                    <div class="car-image">
                        <img src="chiron.png" alt="Bugatti Chiron">
                        <div class="featured-badge" style="position: absolute; top: 10px; right: 10px;">
                            POPULAIRE
                        </div>
                    </div>
                    <div class="car-info">
                        <h3>Bugatti Chiron</h3>
                        <p>La quintessence de la performance automobile avec 1500 chevaux</p>
                        <div class="car-details">
                            <span><i class="fas fa-calendar-alt"></i> 2023</span>
                            <span><i class="fas fa-tachometer-alt"></i> 420 km/h</span>
                            <span><i class="fas fa-horse-head"></i> 1500 ch</span>
                        </div>
                        <div class="car-price">
                            <strong>2500 TND/jour</strong>
                        </div>
                        <button class="btn btn-primary" onclick="openRentalModal('bugatti-chiron', 2500)" style="width: 100%;">
                            <i class="fas fa-calendar-check"></i> R√©server maintenant
                        </button>
                    </div>
                </div>
                
                <!-- Additional featured cars will be loaded here -->
            </div>
        </div>
        
        <div class="section" style="margin-top: 40px;">
            <h2><i class="fas fa-bolt"></i> Derni√®res activit√©s</h2>
            <div class="table-container">
                <table style="width: 100%;">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Activit√©</th>
                            <th>Supercar</th>
                            <th>Statut</th>
                        </tr>
                    </thead>
                    <tbody id="recent-activities">
                        <!-- Recent activities will be loaded here -->
                        <tr>
                            <td colspan="4" style="text-align: center; padding: 20px;">
                                <i class="fas fa-info-circle"></i> Aucune activit√© r√©cente
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="footer">
            <p><strong>Supercar Rental</strong> - L'excellence automobile √† votre port√©e</p>
            <p>¬© 2024 Tous droits r√©serv√©s. Contact: +216 XX XXX XXX | contact@supercar-rental.tn</p>
            <div class="social-icons">
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
            </div>
        </div>
    </div>

    <!-- Catalog Page -->
    <div id="catalog" class="page">
        <div class="page-header">
            <div class="hero-section" style="background: linear-gradient(135deg, #ff6b6b 0%, #ff4757 100%);">
                <h1><i class="fas fa-car-side"></i> Catalogue des SUPERCARS</h1>
                <p>D√©couvrez notre collection exclusive de v√©hicules d'exception</p>
            </div>
        </div>
        
        <div class="search-filters" style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); margin-bottom: 30px;">
            <div class="search-box" style="flex: 1;">
                <i class="fas fa-search"></i>
                <input type="text" id="search-input" placeholder="Rechercher une supercar (marque, mod√®le, ann√©e)..." onkeyup="filterCatalog()">
            </div>
            
            <select id="brand-filter" onchange="filterCatalog()" style="padding: 10px 15px; border: 2px solid #667eea; border-radius: 8px;">
                <option value="">Toutes les marques</option>
            </select>
            
            <select id="price-filter" onchange="filterCatalog()" style="padding: 10px 15px; border: 2px solid #667eea; border-radius: 8px;">
                <option value="">Tous les prix</option>
                <option value="1000-2000">1000-2000 TND</option>
                <option value="2000-3000">2000-3000 TND</option>
                <option value="3000+">3000+ TND</option>
            </select>
            
            <button class="btn btn-secondary" onclick="resetFilters()">
                <i class="fas fa-redo"></i> R√©initialiser
            </button>
        </div>
        
        <div class="cars-grid" id="catalog-cars">
            <!-- Cars will be loaded here -->
        </div>
        
        <div class="footer" style="margin-top: 50px;">
            <p>Des questions sur nos v√©hicules? <a href="#" onclick="openChatbot()" style="color: #ff4757; text-decoration: none; font-weight: bold;">Parlez √† notre assistant IA</a></p>
        </div>
    </div>

    <!-- My Rentals Page -->
    <div id="my-rentals" class="page">
        <div class="page-header">
            <h1><i class="fas fa-clipboard-list"></i> Mes Locations</h1>
            <p>Historique et gestion de vos r√©servations</p>
        </div>
        
        <div class="stats-cards" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
            <div class="stat-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                <i class="fas fa-calendar-check"></i>
                <h3 id="active-rentals-count">0</h3>
                <p>En cours</p>
            </div>
            <div class="stat-card" style="background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%); color: white;">
                <i class="fas fa-check-circle"></i>
                <h3 id="completed-rentals-count">0</h3>
                <p>Termin√©es</p>
            </div>
            <div class="stat-card" style="background: linear-gradient(135deg, #ff6b6b 0%, #ff4757 100%); color: white;">
                <i class="fas fa-times-circle"></i>
                <h3 id="cancelled-rentals-count">0</h3>
                <p>Annul√©es</p>
            </div>
        </div>
        
        <div class="table-container">
            <table id="rentals-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Supercar</th>
                        <th>Date D√©but</th>
                        <th>Date Fin</th>
                        <th>Prix (TND)</th>
                        <th>Statut</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="rentals-body">
                    <!-- Rentals will be loaded here -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Profile Page -->
    <div id="profile" class="page">
        <div class="page-header">
            <h1><i class="fas fa-user"></i> Mon Profil</h1>
            <p>G√©rez vos informations personnelles</p>
        </div>
        
        <div class="profile-container">
            <div class="profile-card">
                <h2><i class="fas fa-user-circle"></i> Informations du Compte</h2>
                <div class="profile-info" id="account-info">
                    <!-- Account info will be loaded here -->
                </div>
            </div>
            
            <div class="profile-card" id="client-info-section">
                <!-- Client info will be loaded here -->
            </div>
            
            <div class="profile-card" id="client-form-section">
                <!-- Client form will be loaded here -->
            </div>
            
            <div class="profile-card">
                <h2><i class="fas fa-cog"></i> Param√®tres</h2>
                <div style="padding: 20px;">
                    <button class="btn btn-secondary" onclick="changePassword()" style="width: 100%; margin-bottom: 10px;">
                        <i class="fas fa-key"></i> Changer le mot de passe
                    </button>
                    <button class="btn btn-warning" onclick="exportMyData()" style="width: 100%; margin-bottom: 10px;">
                        <i class="fas fa-download"></i> Exporter mes donn√©es
                    </button>
                    <button class="btn btn-danger" onclick="deleteAccount()" style="width: 100%;">
                        <i class="fas fa-trash"></i> Supprimer mon compte
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Car Management -->
    <div id="admin-cars" class="page">
        <div class="page-header">
            <h1><i class="fas fa-car"></i> Gestion des SUPERCARS</h1>
            <p>Ajoutez, modifiez ou supprimez des v√©hicules de la collection</p>
        </div>
        
        <div class="admin-form" style="background: white; padding: 30px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); margin-bottom: 30px;">
            <h2><i class="fas fa-plus-circle"></i> Ajouter/Modifier une Supercar</h2>
            <div class="form-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px;">
                <input type="text" id="car-brand" placeholder="Marque (ex: Bugatti)">
                <input type="text" id="car-model" placeholder="Mod√®le (ex: Chiron)">
                <input type="number" id="car-year" placeholder="Ann√©e (ex: 2023)" min="2000" max="2024">
                <input type="number" id="car-price" placeholder="Prix location/jour (TND)" min="500" step="100">
            </div>
            <textarea id="car-description" placeholder="Description d√©taill√©e du v√©hicule..." rows="3" style="width: 100%; padding: 15px; border: 2px solid #667eea; border-radius: 8px; margin-bottom: 20px;"></textarea>
            <div class="form-actions" style="display: flex; gap: 10px; flex-wrap: wrap;">
                <button class="btn btn-success" onclick="addCar()">
                    <i class="fas fa-plus"></i> Ajouter
                </button>
                <button class="btn btn-warning" onclick="updateCar()">
                    <i class="fas fa-edit"></i> Modifier
                </button>
                <button class="btn btn-danger" onclick="deleteCar()">
                    <i class="fas fa-trash"></i> Supprimer
                </button>
                <button class="btn btn-secondary" onclick="clearCarForm()">
                    <i class="fas fa-times"></i> Annuler
                </button>
                <button class="btn btn-info" onclick="openImportModal()" style="margin-left: auto;">
                    <i class="fas fa-file-export"></i> Exporter
                </button>
            </div>
        </div>
        
        <div class="table-container">
            <table id="cars-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Marque</th>
                        <th>Mod√®le</th>
                        <th>Ann√©e</th>
                        <th>Prix (TND)</th>
                        <th>Disponible</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="cars-body">
                    <!-- Cars will be loaded here -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Admin Clients Management -->
    <div id="admin-clients" class="page">
        <div class="page-header">
            <h1><i class="fas fa-users"></i> Gestion des Clients</h1>
            <p>Visualisez et g√©rez tous les clients inscrits</p>
        </div>
        
        <div class="table-container">
            <table id="clients-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nom</th>
                        <th>Pr√©nom</th>
                        <th>T√©l√©phone</th>
                        <th>Email</th>
                        <th>Date Inscription</th>
                        <th>Locations</th>
                    </tr>
                </thead>
                <tbody id="clients-body">
                    <!-- Clients will be loaded here -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Admin Rentals Management -->
    <div id="admin-rentals" class="page">
        <div class="page-header">
            <h1><i class="fas fa-clipboard-check"></i> Gestion des Locations</h1>
            <p>Supervisez toutes les r√©servations en cours et pass√©es</p>
        </div>
        
        <div class="table-container">
            <table id="admin-rentals-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Supercar</th>
                        <th>Client</th>
                        <th>Date D√©but</th>
                        <th>Date Fin</th>
                        <th>Prix (TND)</th>
                        <th>Statut</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="admin-rentals-body">
                    <!-- Rentals will be loaded here -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Admin Statistics -->
    <div id="admin-stats" class="page">
        <div class="page-header">
            <h1><i class="fas fa-chart-bar"></i> Tableau de Bord Administrateur</h1>
            <p>Analyses et statistiques d√©taill√©es de la plateforme</p>
        </div>
        
        <div class="stats-cards">
            <div class="stat-card">
                <i class="fas fa-car"></i>
                <h3 id="total-cars">0</h3>
                <p>SUPERCARS totales</p>
            </div>
            <div class="stat-card">
                <i class="fas fa-car-side"></i>
                <h3 id="available-cars">0</h3>
                <p>SUPERCARS disponibles</p>
            </div>
            <div class="stat-card">
                <i class="fas fa-users"></i>
                <h3 id="total-clients">0</h3>
                <p>Clients inscrits</p>
            </div>
            <div class="stat-card">
                <i class="fas fa-money-bill-wave"></i>
                <h3 id="total-revenue">0 TND</h3>
                <p>Revenus totaux</p>
            </div>
        </div>
        
        <div class="charts-container">
            <div class="chart-box">
                <canvas id="monthly-chart"></canvas>
            </div>
            <div class="chart-box">
                <canvas id="brand-chart"></canvas>
            </div>
            <div class="chart-box">
                <canvas id="status-chart"></canvas>
            </div>
            <div class="chart-box">
                <canvas id="revenue-chart"></canvas>
            </div>
        </div>
        
        <div class="section" style="margin-top: 40px;">
            <h2><i class="fas fa-download"></i> Export de donn√©es</h2>
            <div class="quick-actions">
                <button class="quick-action-btn" onclick="exportData('cars')">
                    <i class="fas fa-car"></i> Exporter SUPERCARS
                </button>
                <button class="quick-action-btn" onclick="exportData('clients')">
                    <i class="fas fa-users"></i> Exporter Clients
                </button>
                <button class="quick-action-btn" onclick="exportData('rentals')">
                    <i class="fas fa-clipboard-list"></i> Exporter Locations
                </button>
                <button class="quick-action-btn" onclick="exportData('all')">
                    <i class="fas fa-database"></i> Exporter tout
                </button>
            </div>
        </div>
    </div>

    <!-- Chatbot Modal -->
    <div id="chatbot-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                <h2><i class="fas fa-robot"></i> Assistant IA - Supercar Rental</h2>
                <button class="close-btn" onclick="closeChatbot()">&times;</button>
            </div>
            
            <div class="chat-container">
                <div class="chat-messages" id="chat-messages">
                    <div class="message bot">
                        <div class="message-content">
                            <strong>ü§ñ Assistant IA:</strong> üëã Bonjour ! Je suis votre assistant IA pour la location de SUPERCARS. Je peux vous aider avec les disponibilit√©s, tarifs, r√©servations et support technique. Posez-moi vos questions !
                        </div>
                    </div>
                </div>
                
                <div class="chat-input">
                    <input type="text" id="chat-input-field" placeholder="Tapez votre message..." onkeypress="handleChatKeyPress(event)">
                    <button class="btn btn-primary" onclick="sendChatMessage()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                
                <div class="quick-questions">
                    <button class="quick-btn" onclick="askQuickQuestion('Quelles SUPERCARS sont disponibles cette semaine?')">
                        üöóüí® Disponibilit√©s
                    </button>
                    <button class="quick-btn" onclick="askQuickQuestion('Quels sont vos tarifs pour la Bugatti Chiron?')">
                        üí∞ Tarifs
                    </button>
                    <button class="quick-btn" onclick="askQuickQuestion('Comment r√©server une supercar?')">
                        üìÖ R√©servation
                    </button>
                    <button class="quick-btn" onclick="askQuickQuestion('Assurance et conditions')">
                        üìã Conditions
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Rental Modal -->
    <div id="rental-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header" style="background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%); color: white;">
                <h2 id="rental-title">R√©servation</h2>
                <button class="close-btn" onclick="closeRentalModal()">&times;</button>
            </div>
            
            <div class="rental-form" style="padding: 30px;">
                <div class="input-group">
                    <label><i class="fas fa-calendar-alt"></i> Date de d√©but:</label>
                    <input type="date" id="rental-start-date" value="<?php echo date('Y-m-d'); ?>">
                </div>
                
                <div class="input-group">
                    <label><i class="fas fa-calendar-check"></i> Date de fin:</label>
                    <input type="date" id="rental-end-date">
                </div>
                
                <div class="input-group">
                    <label><i class="fas fa-calculator"></i> Nombre de jours:</label>
                    <span id="rental-days-count">0 jours</span>
                </div>
                
                <div class="input-group">
                    <label><i class="fas fa-money-bill-wave"></i> Prix total:</label>
                    <span id="rental-total-price" class="price-display" style="font-size: 1.5em; color: #2ecc71; font-weight: bold;">0.00 TND</span>
                </div>
                
                <div class="info-box" style="background: #e3f2fd; padding: 15px; border-radius: 8px; margin: 20px 0;">
                    <i class="fas fa-info-circle"></i>
                    <p>L'assurance et l'assistance 24/7 sont incluses dans tous nos forfaits de location.</p>
                </div>
                
                <div class="modal-actions" style="display: flex; gap: 10px;">
                    <button class="btn btn-warning" onclick="calculateRentalPrice()" style="flex: 1;">
                        <i class="fas fa-calculator"></i> Calculer Prix
                    </button>
                    <button class="btn btn-success" onclick="confirmRental()" style="flex: 2;">
                        <i class="fas fa-check"></i> Confirmer la R√©servation
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Import Modal -->
    <div id="import-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header" style="background: linear-gradient(135deg, #3498db 0%, #2980b9 100%); color: white;">
                <h2><i class="fas fa-file-export"></i> Exporter les donn√©es</h2>
                <button class="close-btn" onclick="closeImportModal()">&times;</button>
            </div>
            
            <div class="import-form" style="padding: 30px;">
                <div class="input-group">
                    <label><i class="fas fa-filter"></i> Type de donn√©es:</label>
                    <select id="export-type" style="width: 100%; padding: 10px; border: 2px solid #3498db; border-radius: 8px;">
                        <option value="cars">SUPERCARS</option>
                        <option value="clients">Clients</option>
                        <option value="rentals">Locations</option>
                        <option value="all">Toutes les donn√©es</option>
                    </select>
                </div>
                
                <div class="input-group" style="margin: 20px 0;">
                    <label><i class="fas fa-file-code"></i> Format:</label>
                    <select id="export-format" style="width: 100%; padding: 10px; border: 2px solid #3498db; border-radius: 8px;">
                        <option value="csv">CSV (Excel)</option>
                        <option value="json">JSON</option>
                        <option value="pdf">PDF</option>
                    </select>
                </div>
                
                <div class="info-box" style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <i class="fas fa-info-circle"></i>
                    <p>L'export des donn√©es vous permet de sauvegarder et analyser les informations hors ligne.</p>
                </div>
                
                <div class="modal-actions">
                    <button class="btn btn-primary" onclick="exportData()" style="width: 100%; padding: 15px;">
                        <i class="fas fa-download"></i> Exporter maintenant
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <!-- Back to Top Button -->
    <button id="back-to-top" onclick="scrollToTop()" style="position: fixed; bottom: 20px; right: 20px; background: #667eea; color: white; border: none; border-radius: 50%; width: 50px; height: 50px; font-size: 20px; cursor: pointer; display: none; z-index: 1000; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Scripts -->
    <script src="database.js"></script>
    <script src="auth.js"></script>
    <script src="chatbot.js"></script>
    <script src="charts.js"></script>
    <script src="app.js"></script>
    
    <script>
        // Additional JavaScript for new features
        function scrollToTop() {
            window.scrollTo({top: 0, behavior: 'smooth'});
        }
        
        window.onscroll = function() {
            var button = document.getElementById('back-to-top');
            if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
                button.style.display = 'block';
            } else {
                button.style.display = 'none';
            }
        };
        
        function changePassword() {
            alert('Fonctionnalit√© de changement de mot de passe √† impl√©menter');
        }
        
        function exportMyData() {
            alert('Export de vos donn√©es personnelles √† impl√©menter');
        }
        
        function deleteAccount() {
            if (confirm('√ätes-vous s√ªr de vouloir supprimer votre compte? Cette action est irr√©versible.')) {
                alert('Suppression de compte √† impl√©menter');
            }
        }
        
        // Auto-focus search input on catalog page
        function focusSearchInput() {
            if (document.getElementById('search-input')) {
                document.getElementById('search-input').focus();
            }
        }
        
        // Calculate days between dates
        function calculateDays() {
            const startDate = new Date(document.getElementById('rental-start-date').value);
            const endDate = new Date(document.getElementById('rental-end-date').value);
            
            if (startDate && endDate && endDate > startDate) {
                const diffTime = Math.abs(endDate - startDate);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                document.getElementById('rental-days-count').textContent = diffDays + ' jours';
                return diffDays;
            }
            return 0;
        }
        
        // Update days count when dates change
        document.addEventListener('DOMContentLoaded', function() {
            const startDateInput = document.getElementById('rental-start-date');
            const endDateInput = document.getElementById('rental-end-date');
            
            if (startDateInput && endDateInput) {
                startDateInput.addEventListener('change', calculateDays);
                endDateInput.addEventListener('change', calculateDays);
                
                // Set minimum date to today
                const today = new Date().toISOString().split('T')[0];
                startDateInput.min = today;
                endDateInput.min = today;
                
                // Set end date to 3 days from now by default
                const defaultEndDate = new Date();
                defaultEndDate.setDate(defaultEndDate.getDate() + 3);
                endDateInput.value = defaultEndDate.toISOString().split('T')[0];
            }
        });
    </script>
</body>
</html>